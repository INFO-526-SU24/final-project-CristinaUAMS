{
  "hash": "e7a377b5809c1a6dc66a0ec4e4e4a670",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Coffee Curiosity\"\nsubtitle: \"Exploring Discernment and Appreciation of Different Roasts\"\nauthor: \n  - name: \"Cristina Lafuente\"\n    affiliations:\n      - name: \"School of Information, University of Arizona\"\ndescription: \"Evaluation of data recovered from coffee taste test\"\nformat:\n  html:\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n    embed-resources: true\neditor: visual\ncode-annotations: hover\nexecute:\n  message: FALSE\n  warning: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(\"pacman\")) \n  install.packages(\"pacman\")\n\n# use this line for installing/loading\npacman::p_load(cowplot,\n               dplyr,\n               here,\n               knitr,\n               magick,\n               scales,\n               shiny,\n               tidyverse,\n               viridis)\n\ndevtools::install_github(\"tidyverse/dsbox\")\n```\n:::\n\n\n## Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoffeeData <- readr::read_csv(('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-05-14/coffee_survey.csv'))\n```\n:::\n\n\nThe Coffee Data comes from a coffee taste test held on YouTube in Oct 2023. Data was self reported by participants. It was aggregated by a data blogger named Robert McKeon Aloe who analyzed the data the following month.\n\nThe Dimensions of the data are:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(coffeeData)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4042   57\n```\n\n\n:::\n:::\n\n\nThe variables collected are:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(coffeeData)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"submission_id\"                \"age\"                         \n [3] \"cups\"                         \"where_drink\"                 \n [5] \"brew\"                         \"brew_other\"                  \n [7] \"purchase\"                     \"purchase_other\"              \n [9] \"favorite\"                     \"favorite_specify\"            \n[11] \"additions\"                    \"additions_other\"             \n[13] \"dairy\"                        \"sweetener\"                   \n[15] \"style\"                        \"strength\"                    \n[17] \"roast_level\"                  \"caffeine\"                    \n[19] \"expertise\"                    \"coffee_a_bitterness\"         \n[21] \"coffee_a_acidity\"             \"coffee_a_personal_preference\"\n[23] \"coffee_a_notes\"               \"coffee_b_bitterness\"         \n[25] \"coffee_b_acidity\"             \"coffee_b_personal_preference\"\n[27] \"coffee_b_notes\"               \"coffee_c_bitterness\"         \n[29] \"coffee_c_acidity\"             \"coffee_c_personal_preference\"\n[31] \"coffee_c_notes\"               \"coffee_d_bitterness\"         \n[33] \"coffee_d_acidity\"             \"coffee_d_personal_preference\"\n[35] \"coffee_d_notes\"               \"prefer_abc\"                  \n[37] \"prefer_ad\"                    \"prefer_overall\"              \n[39] \"wfh\"                          \"total_spend\"                 \n[41] \"why_drink\"                    \"why_drink_other\"             \n[43] \"taste\"                        \"know_source\"                 \n[45] \"most_paid\"                    \"most_willing\"                \n[47] \"value_cafe\"                   \"spent_equipment\"             \n[49] \"value_equipment\"              \"gender\"                      \n[51] \"gender_specify\"               \"education_level\"             \n[53] \"ethnicity_race\"               \"ethnicity_race_specify\"      \n[55] \"employment_status\"            \"number_children\"             \n[57] \"political_affiliation\"       \n```\n\n\n:::\n:::\n\n\nThe reason I selected this data set is because I enjoy coffee very much! Too much? Probably not. I have 6 different coffee brewing apparatuses in my kitchen.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmokaPot <- (here(\"images/mokaPot.png\"))\nespressoMaker <- (here(\"images/espressoMachine.png\"))\nfrenchPress <- (here(\"images/frenchPress.png\"))\npod <- (here(\"images/kCup.png\"))\npercolator <- (here(\"images/percolator.png\"))\npourOver <- (here(\"images/pourOver.png\"))\n\nggdraw() +\n  draw_image(mokaPot, width = 0.33, height = .5, y = 0, interpolate = TRUE) +\n  draw_image(espressoMaker, width = 0.33, height = 0.5, x = 0.33, y = 0, interpolate = TRUE) +\n  draw_image(frenchPress, width = 0.33, height = 0.5, x = 0.67, y = 0, interpolate = TRUE) + \n  draw_image(pod, width = 0.33, height = 0.5, y = 0.5 , interpolate = TRUE) +\n  draw_image(percolator, width = 0.33, height = 0.5, x = 0.33, y = 0.5, interpolate = TRUE) + \n  draw_image(pourOver, width = 0.33, height = 0.5, x = 0.67, y = 0.5, interpolate = TRUE )\n```\n\n::: {.cell-output-display}\n![Images from amazon.com reproduced here without permission](proposal_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nLooking at data on coffee for six weeks seemed like a natural choice.\n\n## Questions\n\nQuestion 1:\n\nDo people tend to quantify acidity and bitterness in coffee correctly and is their ability to judge dependent on their preference in coffee?\n\nQuestion 2:\n\nDoes political affiliation play any part in coffee preference?\n\n## Analysis plan\n\n-   Additional data will come from: [Acids in coffee: A review of sensory measurements and meta-analysis of chemical composition, by Yeager et al](https://www.tandfonline.com/doi/figure/10.1080/10408398.2021.1957767?)\\\n\n-   When it comes to what specific plotting method will best represent this data, it is difficult to know with certainty at this time. Anytime a correlation is made, scatterplots are an obvious choice with the possibility of facet wrapping by type.\n\n-   There are two relevant CSVs one contains data on total levels of organic acids, known to produce the acidic qualities of coffee and another contains data on total levels of chlorogenic acids in coffee - the total amount of which is dependent on roast level and correlated (inversely) with the \"bitterness\" flavor profiles.\n\n    This data will be joined on the type of roast ( a variable in both).\n\n    This study provides definitive data on the levels of acidity in coffee by roast as well as a source for what causes both bitterness and acidity in taste and will be helpful in determining subjects taste accuracy.\n\n\n    ::: {.cell}\n    \n    :::\n\n\nThey have quite a few very nice plots of their own, I think the one that best summarizes the data I'll be using is:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplotAcidByRoast <- here(\"images/acidLevelByRoast.png\")\n\nggdraw() +\n  draw_image(plotAcidByRoast)\n```\n\n::: {.cell-output-display}\n![Image from Yeager et al, Acids in Coffee](proposal_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nThese tables will not be used in my report but are included here for informational purposes only. It shows the concentrations of total organic acids (on top) for Arabica (left) and Robusta (right) at different roast levels as well as different concentrations of CGAs for the same (bottom).\n\nAs discussed in their paper, CGAs form chlorogenic acid lactones during roasting which impart the bitterness into the coffee. After roasting, the CGAs are no longer present and the lactones are, giving the bitter profile. Similar bitterness occurs through breakdown resulting from other organic acid compounds.\n\n### Reformatting Data\n\nDue to some type of formatting error, roughly 1500 and 250 NA columns were appended to each dataset. Trimming those off, allows a more realistic view of the actual data names and size.\n\nThis new data for chlorogenic acids has the dimensions and columns:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Dimensions and columns in the chlorogenic acids dataset:\ndim(coffeeAcidityCGA[1:33])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1344   33\n```\n\n\n:::\n:::\n\n\nThe columns are called:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## The columns are called:\ncolnames(coffeeAcidityCGA[1:33])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Source\"                    \"Type\"                     \n [3] \"Roast\"                     \"Extraction\"               \n [5] \"Stats\"                     \"Other\"                    \n [7] \"Units\"                     \"total CQA\"                \n [9] \"Total FQA\"                 \"Total diCQA\"              \n[11] \"3-CQA\"                     \"4-CQA\"                    \n[13] \"5-CQA\"                     \"3-FQA\"                    \n[15] \"5-pCoQA\"                   \"5-FQA\"                    \n[17] \"Ferulic Acid\"              \"4-FQA\"                    \n[19] \"3,5-diCQA\"                 \"3,4-diCQA\"                \n[21] \"4,5-DiCQA\"                 \"3-pCo,5-CQA\"              \n[23] \"3-C,4-FQA\"                 \"3-C,5-FQA\"                \n[25] \"4,5-FQA\"                   \"3-C,4-FQA and 3-pCo,4-CQA\"\n[27] \"3-C,5-DQA\"                 \"3-C,4-DQA\"                \n[29] \"3-D,5-FQA\"                 \"Nicotinic Acid\"           \n[31] \"3-CGA\"                     \"Total CGA\"                \n[33] \"Notes\"                    \n```\n\n\n:::\n:::\n\n\nThe new data for organic acids has dimension:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## The dimensions of the Organic Acids dataset is:\ndim(coffeeAcidityOA[1:33])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 287  33\n```\n\n\n:::\n:::\n\n\nThat data has column names:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Those columns are called:\ncolnames(coffeeAcidityOA[1:33])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Source\"         \"Type\"           \"Roast\"          \"Extraction\"    \n [5] \"Stat\"           \"Other\"          \"Units\"          \"Citric\"        \n [9] \"Formic\"         \"Malic\"          \"Pyruvic\"        \"Quinic\"        \n[13] \"Succinic\"       \"Acetic\"         \"Oxalic\"         \"Fumaric\"       \n[17] \"Tartaric\"       \"Lactic\"         \"Glycolic\"       \"Nitric\"        \n[21] \"Mesaconic\"      \"Maleic\"         \"Isocitric\"      \"Citraconic\"    \n[25] \"Propionic\"      \"2-Furoic\"       \"Pyroglutamic\"   \"Phosphoric\"    \n[29] \"Levulinic Acid\" \"Methylsuccinic\" \"Nicotinic\"      \"Ascorbic\"      \n[33] \"Hydroxybenzoic\"\n```\n\n\n:::\n:::\n\n\nWorking with this additional data will require that I combine these three datasets along the \"roast\" variable and compare the relevant variables.\n\nFor Organic Acids, I will need to create a new variable which adds up the total relevant organic acids. This will be a double type as it is a measure of concentration.\n\nIn the CGAs Table, I will similarly need to create a new variable which sums the total relevant CGAs. This will be a double type as it is a measure of concentration.\n\nOnce this has been done, those two variables can be compared, by roast (chr type - qualitative), against what the taste testers believed to be acidic and non acidic (chr type -qualitative).\n\nAfter that, I would like to run an analysis on the likelihood of a person to be correct based on their favorite coffee beverage.\n\nLooking at the second question, will be much more straightforward examining the political affiliation selection made by the participants as well as which of the coffees they preferred.\n\n\n```{=html}\n<table border =\"1\">\n  <caption>\n    <span data-qmd=\"Weekly Plan of Attack Table: Last updated: 5/28/2024\">\n    </span>\n  </caption>\n  \n  <thead style =\" background-color: #BF93EE\">\n    <tr>\n      <th>Task Name</th>\n      <th>Status</th>\n      <th>Assignee</th>\n      <th>Due</th>\n      <th>Priority</th>\n      <th>Summary</th>\n    </tr>\n  </thead>\n  <tr>\n    <td>Add any extras or polish up wording</td>\n    <td>not yet started</td>\n    <td>Cristina Lafuente</td>\n    <td>June 10, 2024</td>\n    <td>Low</td>\n    <td>As possible additions *nice to haves* pop up, add them to this list</td>\n  </tr>\n  <tr>\n    <td>Begin working on presentation and write up</td>\n    <td>not yet started</td>\n    <td>Cristina Lafuente</td>\n    <td>June 3, 2024</td>\n    <td>Moderate</td>\n    <td>Once feedback is in, begin wrangling data and working on presentation</td>\n  </tr>\n  <tr>\n    <td>Finish proposal and give feedback</td>\n    <td>complete</td>\n    <td>Cristina Lafuente</td>\n    <td>Wednesday, May 29: 5pm</td>\n    <td>High</td>\n    <td>Push completed proposal and complete peer review </td>\n  </tr>\n</table>\n```\n",
    "supporting": [
      "proposal_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}